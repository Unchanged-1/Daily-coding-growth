# 数据类型概述

数据类型就像你的身份证，它定义了变量或常量可以存储的数据种类、取值范围和可执行的操作。为了方便新手入门，这里不会一股脑地列出所有细节，而是先介绍一些常见、常用的数据类型。

## C++

### 1整型

整型用于存储整数值，不同类型有不同的存储空间和取值范围。

用于存储整数值，不同类型有不同的存储空间和取值范围。

| 类型名称  | 存储空间 | 取值范围       | 备注     |
| :-------- | :------- | :------------- | :------- |
| int       | 4字节    | -2^31 ~ 2^31-1 | 常用     |
| long long | 8字节    | -2^63 ~ 2^63-1 | 范围更大 |

需要特别注意的是，当数据范围可能超出 int 类型的限制时，应使用 long long 类型，避免整数溢出导致错误结果。

### 2 浮点型

浮点型用于存储带小数点的数值，不同类型有不同的精度和范围。

| 类型名称            | 存储空间 | 精度            |
| :------------------ | :------- | :-------------- |
| float（不建议使用） | 4字节    | 6-7位有效数字   |
| double              | 8字节    | 15-16位有效数字 |
| long double         | 16字节   | 18-19位有效数字 |

需要特别注意的是，浮点数计算存在精度误差，不应直接用 `==` 比较两个浮点数是否相等，而应判断它们的差值是否小于某个很小的数（如 1e-9，即 0.000000001）。此外，应尽量避免使用 float 类型，因为它的精度较低，容易导致计算误差。

### 3字符型

字符型用于存储单个字符，在C++中使用 char 类型。

| 类型名称 | 存储空间 | 备注                      | 范围  |
| :------- | :------- | :------------------------ | :---- |
| char     | 1字节    | 可表示ASCII字符集中的字符 | 0~255 |

需要特别注意的是，**char 类型在C++中既可以当作字符使用，也可以当作小整数使用**

例如，'A' 的ASCII值为65，可以进行算术运算：'A' + 1 的结果为66，对应字符 'B'。

### 布尔型

布尔型用于表示逻辑值，只有两种可能的取值：真（true）和假（false）。

| 类型名称 | 存储空间 | 取值范围      | 备注                    |
| :------- | :------- | :------------ | :---------------------- |
| bool     | 1字节    | true 或 false | 任何非零值都被视为 true |

需要特别注意的是，**在 C++ 中，bool 类型的变量可以隐式转换为整数类型，其中 true 转换为 1，false 转换为 0。**

反之，整数类型也可以隐式转换为 bool 类型，其中 0 转换为 false，非零值转换为 true。\*\*

## 变量与常量

变量和常量是编程中最基本的概念之一，它们用于在程序中存储和管理数据。简单来说，变量就像是一个可以存放数据的盒子，而常量则是一个贴上了"请勿移动"标签的盒子。

变量的定义与初始化
变量必须先定义后使用，定义变量时需要指定其数据类型和名称，还可以选择性地进行初始化（赋初值）。

在C++中，变量的定义语法如下：

```cpp
数据类型 变量名 = 初始值; // 定义并初始化
数据类型 变量名; // 仅定义，不初始化
例如：

int a = 10; // 定义整型变量a并初始化为10
double b = 3.14; // 定义浮点型变量b并初始化为3.14
char c = 'A'; // 定义字符型变量c并初始化为'A'
bool d = true; // 定义布尔型变量d并初始化为true
int e; // 仅定义整型变量e，不初始化
```

需要特别注意的是，在 C++ 中，未初始化的变量可能包含随机值，这可能导致程序行为不可预测。因此，建议在定义变量时就进行初始化。

### 常量的定义与使用

常量是指在程序运行过程中值不能被修改的量。

在C++中，可以使用 const 关键字定义常量：

```cpp
const 数据类型 常量名 = 值;
例如：

const int MAX_VALUE = 100; // 整型常量
const double PI = 3.14159; // 浮点型常量
const char GRADE = 'A'; // 字符型常量
const bool IS_ENABLED = true; // 布尔型常量
需要特别注意的是，C++中的常量必须在定义时初始化，之后不能再修改其值
```

## 基础输入输出

我们写的程序往往是为了实现某些特定的功能，比如计算两个数的和、求一个数的平方根等等。而这些功能往往需要我们从外部获取数据（比如告诉程序我们要求哪两个数的和），然后将结果输出到外部（将计算结果告诉给我）。

在大部分编程语言中，我们通过终端（即代码运行的界面）对程序进行输入，程序也会在终端上将程序运算的结果进行输出。

**在 C++ 中**，我们使用 cin 进行输入，使用 cout 进行输出。他们对应的语法分别为：

```cpp
cin >> 需要输入的变量名; // 输入
cout << 需要输出的变量名; // 输出

此外，如果需要连续输入或输出若干个变量，只需要把其他变量在这个基础上直接用 >> 或 << 连接起来即可，
例如：

cin >> 需要输入的变量名1 >> 需要输入的变量名2 >> 需要输入的变量名3; // 输入
cout << 需要输出的变量名1 << 需要输出的变量名2; // 输出
```

cin 语句会自动读入用户在终端的输入，**并以空格或换行作为默认的该次读入的结束的标识（后面的内容则会被留给下一个需要读入的变量）**，然后把这一部分的值直接赋值给需要输入的变量。

同时，在我们输出变量时，如果直接无脑输出一堆变量，他们就会黏在一起而不会自动换行，这可能会导致我们的输出结果变得奇怪。**所以，我们也可以在输出的各个变量之间加入空格(' ')或换行符('\n' 或 endl，注意 endl 不需要引号)，以达到我们想要的输出效果**

下面是一个简单的例子：

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
// 整型输入输出
int a;
cin >> a;
cout << a << '\n';

    // 浮点型输入输出
    double b;
    cin >> b;
    cout << b << '\n';

    // 字符型输入输出
    char c;
    cin >> c;
    cout << c << '\n';

    // 布尔型输入输出
    bool d;
    cin >> d;  // 输入非零值为true，0为false
    cout << d << '\n';  // 输出1或0

    return 0;

}
```

## 进阶输入输出

**在 C++ 中**，我们可以使用 fixed 和 setprecision 来控制浮点数的输出精度。常见的应用有以下两种：

```cpp
1.保留小数点后 位（四舍五入），对应的语法为：
cout << defaultfloat; //清空以前对小数输出格式的设置
cout << fixed << setprecision(n) << 待输出变量名;
// 输出待输出变量名（保留n位小数）

2.保留有效数字 位（四舍五入），对应的语法为：
cout << defaultfloat; //清空以前对小数输出格式的设置
cout << setprecision(n) << 待输出变量名; // 输出待输出变量名（保留n位有效数字）

下面举一个简单的例子：
#include <bits/stdc++.h>
using namespace std;

int main() {
double d = 3.1415926;
cout << fixed << setprecision(3) << d << endl; // 输出3.142
cout << defaultfloat; //清空以前对小数输出格式的设置
cout << setprecision(3) << d << endl; // 输出3.14
return 0;
}


总结一下， fixed 和 setprecision(n) 一起使用时，表示小数点后的位数；单独使用 setprecision(n) 表示有效数字的位数。
```

## 类型转换

**C++ 提供了两种类型转换方式：隐式转换和显式转换**。

**隐式转换**：我们可以通过将一种类型的变量直接赋值给另一种类型的变量，此时被赋值的变量就相当于是主动赋值变量由原本数据类型转化为新数据类型后的值。此时，编译器会自动将一种类型转换为另一种类型，无需额外的代码。

**显式转换**：我们也可以使用强制类型转换运算符来将一种类型的变量强制转换为另一种类型的变量。此时，我们**需要在变量名前加上括号，并在括号内指定要转换的目标类型**。例如，如果我们要把一个 double 类型的变量（假设这个变量叫 d）转换为 int 类型的变量，此时表示变量 d 在被转化类型后的结果的表达式为: (int) d。需要注意的是，这个操作只能得到转换后的值，并不会改变原本变量的值，也就是说，此时变量 d 的数据类型并没有发生改变，仍然为 double 类型。

```cpp
特殊的，在 C++ 中，我们无法直接通过 (string) 整数类型变量名 的方法将整数类型变量转换为字符串类型变量，也无法直接通过 (int) 字符串类型变量名 的方法将字符串类型变量转换为整数类型变量。
```

如果需要，可以尝试使用下面三个函数：

```cpp
stoi() 函数：将字符串转换为整数。
stod() 函数：将字符串转换为双精度浮点数。
to_string() 函数：将数值转换为字符串。
具体的用法可以参考下面两个例子：

#include <bits/stdc++.h>
using namespace std;

int main() {
// 隐式转换
int a = 5;
double b = a; // int转double

    // 显式转换
    double c = 3.14;
    int d = (int)c;  // double转int，结果为3

    // 字符串转数值
    string str = "123";
    int f = stoi(str);  // 字符串转int
    double g = stod("3.14");  // 字符串转double

    // 数值转字符串
    string h = to_string(42);  // 数值转字符串

    return 0;

}

需要特别注意的是，从浮点型转换为整型时，小数部分会被截断，而不是四舍五入。
```
